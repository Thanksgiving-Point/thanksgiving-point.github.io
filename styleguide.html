<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Engineering Style Guide</title>

    <!-- Shared theme -->
    <link rel="stylesheet" href="theme.css" />
  </head>

  <body>
    <!-- Dark/Light mode toggle -->
    <button class="theme-toggle" id="themeToggle">Toggle Theme</button>

    <div class="container">
      <header>
        <h1>Engineering Style Guide</h1>
        <p>
          Internal coding standards for Thanksgiving Point exhibits firmware.
          This guide keeps our work readable, maintainable, and consistent as
          our systems grow.
        </p>
      </header>

      <h2>1. Purpose</h2>
      <p>
        This lightweight style guide establishes consistent formatting, naming,
        and documentation practices across all firmware projects. Made with an
        emphasis on maintainability rather than strict guidelines.
      </p>

      <h2>2. Repository Structure</h2>
      <ul>
        <li><code>src/</code>: All firmware source files (.cpp, .h)</li>
        <li>
          <code>hardware/</code>: Wiring diagrams, schematics, power notes
        </li>
        <li><code>docs/</code>: Maintenance notes, troubleshooting guides</li>
        <li>No per-class subfolders (for Arduino IDE compatibility).</li>
      </ul>

      <h2>3. File Header Template</h2>

      <h3>3.1 Main <code>.ino</code> file:</h3>
      <pre><code>/**
 * File: &lt;filename&gt;
 * Project: &lt;project title&gt;
 * Author: &lt;name&gt;
 * Date: &lt;mm-dd-yy&gt;
 * Description: &lt;short description of this file&gt;
 * Notes: &lt;dependencies, pin usage, modules, quirks, etc.&gt;
 * (c) Thanksgiving Point Exhibits Electronics Team — &lt;year&gt;
 */
</code></pre>

      <h3>3.2 Header <code>.h</code> files:</h3>
      <pre><code>/**
 * &lt;class_name&gt;
 *
 * &lt;descriptive one-liner and list if necessary&gt;
 * Trigger-based audio playback for MKR Zero.
 * - Exposes play()
 * - Manages busy state and pulse timing
 * - Non-blocking update() method
 */
</code></pre>

      <h2>4. Naming Conventions</h2>

      <h3>4.1 Variables</h3>
      <ul>
        <li>Local variables: <code>camelCase</code></li>
        <li>Member variables: <code>camelCase_</code> (trailing underscore)</li>
        <li>Global constants: <code>SCREAMING_SNAKE_CASE</code></li>
      </ul>

      <h3>4.2 Types</h3>
      <ul>
        <li>Classes: <code>PascalCase</code></li>
        <li>Structs: <code>PascalCase</code></li>
        <li>Enum types: <code>PascalCase</code></li>
        <li>Enum values: <code>kEnumName</code></li>
      </ul>

      <h2>5. Functions and Methods</h2>

      <h3>5.1 Documentation</h3>
      <p>
        Each function includes a one-line summary + parameters + return value.
      </p>

      <pre><code>/**
 * @brief description of what the function does.
 * more detailed explanation if needed.
 *
 * @param &lt;value&gt; description of parameter
 * @return &lt;value&gt; description of return value
 */
bool camelCase(int param);
</code></pre>

      <h3>5.2 Formatting</h3>
      <ul>
        <li>2-space indentation (clang-format)</li>
        <li>Automatic formatting required before commits</li>
        <li>
          Line length: determined by clang-format (typically 100–120 chars)
        </li>
      </ul>

      <h2>6. Inline Comments</h2>
      <p>
        Inline comments are encouraged when clarity is needed. Best used to:
      </p>

      <ul>
        <li>Explain <em>why</em> something is done, not just what it does</li>
        <li>Avoid restating obvious behavior</li>
        <li>
          Capture hardware/software quirks, timing constraints, or electrical
          considerations
        </li>
      </ul>

      <p>
        Comment density is not strictly defined — use good judgment and err on
        the side of clarity.
      </p>

      <h2>7. File Organization</h2>
      <ul>
        <li>Headers: declarations + short inline methods</li>
        <li>Sources: implementations</li>
        <li>Pin maps and constants go in <code>Config.h</code></li>
      </ul>

      <h2>8. Versioning and Tags</h2>
      <p>Use descriptive tags for major milestones:</p>

      <pre><code>v0.9-mkrzero-i2s-final
v1.0-sound-module-refactor
</code></pre>

      <h2>9. Hardware Documentation</h2>
      <ul>
        <li>Wiring diagrams and connector references</li>
        <li>Power calculations and component ratings</li>
        <li>Startup/reset quirks</li>
        <li>Calibration instructions</li>
        <li>PDF schematics (if available)</li>
      </ul>

      <h2>10. README.md Template</h2>
      <ul>
        <li>Overview (5–10 sentences)</li>
        <li>Hardware list</li>
        <li>Wiring diagram</li>
        <li>Software architecture summary</li>
        <li>Troubleshooting, warnings, known issues</li>
      </ul>
    </div>
    <!-- end container -->

    <footer>
      © <span id="year"></span> Thanksgiving Point Exhibits Electronics Team
    </footer>

    <script>
      // Theme loader
      const root = document.documentElement;
      const btn = document.getElementById("themeToggle");

      if (localStorage.getItem("theme") === "dark") {
        root.classList.add("dark");
      }

      btn.addEventListener("click", () => {
        root.classList.toggle("dark");
        const mode = root.classList.contains("dark") ? "dark" : "light";
        localStorage.setItem("theme", mode);
      });

      // Footer year
      document.getElementById("year").textContent = new Date().getFullYear();
    </script>
  </body>
</html>
